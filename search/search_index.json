{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#about-repo","title":"About Repo","text":""},{"location":"#facets-knowledge-panels","title":"facets-knowledge-panels","text":"<p>Providing knowledge panels for a particular Open Food Facts facet (category, brand, etc...)</p>"},{"location":"#why-facets-knowledge-panels","title":"Why facets-knowledge-panels?","text":"<ul> <li>Provides applications with a set of informative or actionable items which are contextual to a specific facet.</li> <li>The primary goal is to allow high level contributions by users that maybe interested in a particular subset of the database, like a particular food category, a brand, a location etc.</li> <li>We reuse the knowledge panel format, which remove the need for the application to change as the server side code change, or to implement specific business logic.</li> </ul>"},{"location":"#how-do-i-get-started","title":"How do I get started?","text":"<ul> <li>Join us on Slack</li> <li>Developer documentation     - Project setup     - Testing     - Contributing Guidelines</li> <li>API Documentation</li> </ul>"},{"location":"#contributors","title":"Contributors","text":""},{"location":"how-to-guides/CONTRIBUTING/","title":"Contributing to Facets Knowledge Panels","text":"<p>First off, thanks for taking the time to contribute! \ud83c\udf89\ud83c\udf89</p> <p>When contributing to this repository, please first discuss the change you wish to make via issue with the maintainers of this repository before making a change. These are mostly guidelines, not rules. Use your best judgment, and feel free to propose changes to this document in a pull request.</p>"},{"location":"how-to-guides/CONTRIBUTING/#code-of-conduct","title":"Code of Conduct","text":"<p>This project and everyone participating in it is governed by the Open Food Facts Code of Conduct, please follow it in all your interaction with the project. By participating, you are expected to uphold this code. Please report unacceptable behavior/abuse to abuse@openfoodfacts.org</p>"},{"location":"how-to-guides/CONTRIBUTING/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Ensure any install or build dependencies are removed before the end of the layer when doing a build. Add only relevant files to commit and ignore the rest to keep the repo clean.</li> <li>Update the README.md with details of changes to the interface, this includes new environment variables, exposed ports, useful file locations and container parameters.</li> <li>You should request review from the maintainers once you submit the Pull Request.</li> </ol>"},{"location":"how-to-guides/CONTRIBUTING/#instructions","title":"Instructions","text":"<ul> <li>Git Workflow (all the commands are to run in your console)</li> </ul>"},{"location":"how-to-guides/CONTRIBUTING/#step-1","title":"Step 1","text":"<pre><code>## Step 1: Fork Repository\n\n## Step 2: Git Set Up &amp; Download\n# Clone the repo\ngit clone https://github.com/&lt;User-Name&gt;/facets-knowledge-panels.git\n\n# move to the folder\ncd facets-knowledge-panels\n\n# Add upstream remote\ngit remote add upstream https://github.com/openfoodfacts/facets-knowledge-panels.git\n\n# Fetch and merge with upstream/main\ngit fetch upstream\ngit merge upstream/main\n\n## Step 2: Create and Publish Working Branch\ngit checkout -b &lt;type&gt;/&lt;issue-issueNumber&gt;/{&lt;additional-fixes&gt;}\n\n# Example: fix/issue-21\ngit push origin &lt;type&gt;/&lt;issue-issueNumber&gt;/{&lt;additional-fixes&gt;}\n\n## Types:\n# wip - Work in Progress; long term work; mainstream changes;\n# feat - New Feature; future planned; non-mainstream changes;\n# bug - Bug Fixes\n# exp - Experimental; random experimental features;\n</code></pre>"},{"location":"how-to-guides/CONTRIBUTING/#step-2","title":"Step 2","text":"<ul> <li>Setup project locally</li> </ul>"},{"location":"how-to-guides/CONTRIBUTING/#step-3","title":"Step 3","text":"<ul> <li>Testing the work before push</li> </ul>"},{"location":"how-to-guides/CONTRIBUTING/#step-4","title":"Step 4","text":"<pre><code>## Committing and pushing your work\n\n# Ensure branch\ngit branch\n\n# Fetch and merge with upstream/main\ngit fetch upstream\ngit merge upstream/main\n\n# Add untracked files\ngit add .\n\n# Commit all changes with appropriate commit message and description\ngit commit -m \"your-commit-message\"\n\n# Fetch and merge with upstream/main again\ngit fetch upstream\ngit merge upstream/main\n\n# Push changes to your forked repository\ngit push origin &lt;type&gt;/&lt;issue-issueNumber&gt;/{&lt;additional-fixes&gt;}\n\n## Creating the PR using GitHub Website\n# Create Pull Request from &lt;type&gt;/&lt;issue-issueNumber&gt;/{&lt;additional-fixes&gt;} branch in your forked repository to the main branch in the upstream repository\n# After creating PR, add a Reviewer (Any Admin) and yourself as the assignee\n# Link Pull Request to appropriate Issue, or Project+Milestone (if no issue created)\n# IMPORTANT: Do Not Merge the PR unless specifically asked to by an admin.\n</code></pre> <ul> <li>After PR Merge</li> </ul> <pre><code># Delete branch from forked repo\ngit branch -d &lt;type&gt;/&lt;issue-issueNumber&gt;/{&lt;additional-fixes&gt;}\ngit push --delete origin &lt;type&gt;/&lt;issue-issueNumber&gt;/{&lt;additional-fixes&gt;}\n\n# Fetch and merge with upstream/main\ngit checkout main\ngit pull upstream\ngit push origin\n</code></pre> <ul> <li>Always follow commit message standards</li> <li>About the fork-and-branch workflow</li> </ul>"},{"location":"how-to-guides/Project-setup-locally/","title":"Project Setup","text":"<p>You may choose Docker-compose(recommended), or Through virtual env </p>"},{"location":"how-to-guides/Project-setup-locally/#through-dockerrecommended","title":"Through Docker[Recommended]","text":"<ul> <li>Prerequisite - Docker</li> </ul> <p>After forking the repository</p> <p>to build: <pre><code>docker-compose build\n</code></pre> or <pre><code>make build\n</code></pre></p> <p>to run: <pre><code>docker-compose up\n</code></pre> or <pre><code>make up\n</code></pre></p> <ul> <li>Visit <code>http://127.0.0.1/</code> with the endpoints or /docs for documentation</li> </ul>"},{"location":"how-to-guides/Project-setup-locally/#through-virtual-env","title":"Through virtual env","text":"<ul> <li>Prerequisite <ul> <li>Python</li> <li>use a git bash console to run the commands below</li> </ul> </li> <li>After forking the repository</li> <li>Create virtual env</li> <li>Activate you virtual environment <code>. path/to/virtualenv/bin/activate</code></li> <li>Install requirements.txt <pre><code>pip install -r requirements.txt\n</code></pre></li> </ul> <ul> <li>Load the environment variables: <code>. load_env.sh</code></li> <li>Now you ready to runserver. <pre><code>uvicorn app.main:app --reload\n</code></pre></li> <li>Checkout your local host <code>http://127.0.0.1:8000/</code> with the endpoints or /docs for documentation</li> </ul>"},{"location":"how-to-guides/Testing/","title":"Testing","text":""},{"location":"how-to-guides/Testing/#docker-setup","title":"docker setup","text":"<p><pre><code>make build_lang\ndocker-compose run --rm facets-api pytest tests\n</code></pre> or <pre><code>make all\n</code></pre></p>"},{"location":"how-to-guides/Testing/#virtual-env-setup","title":"virtual env setup","text":"<ul> <li>Checkout <code>tests</code> directory <pre><code>make build_lang\npytest \n</code></pre></li> </ul>"},{"location":"references/API%20references/","title":"API Reference","text":"<p>Knowledge panel facets is a simple api that allow user to get knowledge-panels based on the different facets</p> <p>The api must be prefixed with this <code>/knowledge_panel?</code>. The full url look like  <code>https://facets-kp.openfoodfacts.org/knowledge_panel?facet_tag={desired-facet}&amp;value_tag={facet-value}&amp;lang_code={language}&amp;country={desired-country}</code></p> <ul> <li>API Documentation with interactive \"try-out\": https://facets-kp.openfoodfacts.org/docs</li> </ul>"}]}